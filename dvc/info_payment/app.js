(function(t){function e(e){for(var n,r,s=e[0],c=e[1],d=e[2],p=0,_=[];p<s.length;p++)r=s[p],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&_.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(_.length)_.shift()();return o.push.apply(o,d||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},o=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var u=c;o.push(["56d7","chunk-vendors"]),a()})({4360:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return store}));var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a026"),vuex__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2f62"),toastr__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_2__),axios__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_3__),_support_json__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bbd0"),_support_json__WEBPACK_IMPORTED_MODULE_4___namespace=__webpack_require__.t("bbd0",1),jquery__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__),file_saver__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("21a6"),file_saver__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(file_saver__WEBPACK_IMPORTED_MODULE_6__);vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(toastr__WEBPACK_IMPORTED_MODULE_2___default.a),vue__WEBPACK_IMPORTED_MODULE_0__["a"].use(vuex__WEBPACK_IMPORTED_MODULE_1__["a"]),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.options={closeButton:!0,timeOut:"10000"};var store=new vuex__WEBPACK_IMPORTED_MODULE_1__["a"].Store({state:{initData:_support_json__WEBPACK_IMPORTED_MODULE_4__.initData,endPointApi:"/o/rest/v2",loading:!1,loadingTable:!1,loadingDynamicBtn:!1,loadingGov:!1,validFileUpload:!1,fileTypeAllowDefault:"pdf,doc,docx,xls,xlsx,png,jpg,jpeg,txt,rtf",fileTypePAYMENT:["png","jpg","jpeg"],error:null,user:{role:""},userLogin:"",index:0,kysoSuccess:!1,activeGetCounter:!1,activeLoadingDataHoSo:!1,trangThaiHoSoList:null,listThuTucHanhChinh:null,checkInput:0,stepOverdueNextAction:"",usersNextAction:[],lePhi:{fee:"",feeNote:"",request:""},dossier:{applicantIdNo:"ccc"},dossierSelected:[],actionActive:{},serviceConfigObj:{},dossierTemplateName:"",thongTinChungHoSo:{serviceName:"",dossierTemplateName:"",serviceConfig:"",serviceOption:"",dossierNo:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierIdCTN:"",dossierStatus:"",dossierStatusText:""},vnpostCodeItems:[],serviceConfigItems:null,serviceOptionItems:[],citys:null,cityVal:null,districtVal:null,wardVal:null,resultServices:null,dossierFiles:[],listHistoryProcessingItems:[],thanhPhanHoSo:{dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates},dossierTemplates:_support_json__WEBPACK_IMPORTED_MODULE_4__.dossierTemplates,applicantId:"",applicantBussinessExit:!1,applicantNote:"",thongTinChuHoSo:{userType:"1",cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""},thongTinChuHoSoBindChuyenPhat:{cityCode:"",districtCode:"",wardCode:"",address:"",contactTelNo:""},thongTinNguoiNopHoSo:{sameUser:!0,delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""},dichVuChuyenPhatKetQua:{viaPostal:0,postalServiceCode:"",postalAddress:"",postalCityCode:"",postalDistrictCode:"",postalWardCode:"",postalTelNo:""},dichVuChuyenPhatHoSo:{vnpostalStatus:0,postalServiceCode:"",postalAddress:"",postalCityCode:"",postalCityName:"",postalDistrictCode:"",postalDistrictName:"",postalWardCode:"",postalWardName:"",postalTelNo:""},viaPostal:0,data_phancong:[],dataCreateDossier:{},dataCreateFile:[],paymentProfile:"",paymentFileName:"",forGroupDossier:!1,dossierIntoGroup:[],filesAdd:[],activeAddFileGroup:!1,dossierTemplateLienThong:"",activePrintBienNhan:"",createFileSigned:"",advSearchShow:!1,visibleDoAction:!0,filterDateFromTo:["fromReceiveDate","toReceiveDate","fromDueDate","toDueDate","fromReleaseDate","toReleaseDate","fromFinishDate","toFinishDate"]},actions:{clearError:function(t){var e=t.commit;e("clearError")},loadInitResource:function(t){var e=t.commit,a=t.state;return new Promise((function(t,n){null!==window.themeDisplay&&void 0!==window.themeDisplay?(a.initData["groupId"]=window.themeDisplay.getScopeGroupId(),a.initData["user"]={userName:window.themeDisplay.getUserName(),userEmail:"",userId:window.themeDisplay.getUserId()}):(a.initData["groupId"]=0,a.initData["user"]={userName:"",userEmail:"",userId:20164}),""===a["user"].role&&store.dispatch("getRoleUser").then((function(t){a["user"].role=t})).catch((function(t){a["user"].role=["default"]})),e("setInitData",a.initData),t(a.initData)}))},getRoleUser:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){var n={headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/users/login",n).then((function(e){var a=e.data;if(a&&a.length>0){var n=[];for(var i in a)a[i]["role"]&&n.push(a[i]["role"]);t(n)}else t(["default"])})).catch((function(t){e("default")}))}))},loadMenuConfigToDo:function loadMenuConfigToDo(_ref4){var commit=_ref4.commit,state=_ref4.state;return commit("setLoadingDynamicBtn",!0),null===state.trangThaiHoSoList?new Promise((function(resolve,reject){store.dispatch("loadInitResource").then((function(result){var param={headers:{groupId:state.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(state.initData.menuConfigToDo,param).then((function(response){var serializable=response.data,menuData=[],index=0;for(var key in serializable.data){var current=serializable.data[key],menuDetail={index:index,active:!1,title:current["menuName"],id:current["menuGroup"],icon:current["icon"]?current["icon"]:"",action:"description",action_active:"play_arrow",counter:-1,menuType:parseInt(current["menuType"]),queryParams:current["queryParams"],hasViewText:current["hasViewText"]};index+=1;var tableConfig=current["tableConfig"],buttonConfig=current["buttonConfig"];if(""!==tableConfig&&void 0!==tableConfig&&"undefined"!==tableConfig&&-1!==String(tableConfig).indexOf("{")&&-1!==String(tableConfig).indexOf("}"))try{menuDetail["tableConfig"]=eval("("+tableConfig+")")}catch(error){alert("Lỗi cấu hình TableConfig menu "+current["menuName"])}if(""!==buttonConfig&&void 0!==buttonConfig&&"undefined"!==buttonConfig&&-1!==String(buttonConfig).indexOf("{")&&-1!==String(buttonConfig).indexOf("}"))try{menuDetail["buttonConfig"]=eval("("+buttonConfig+")")}catch(error){alert("Lỗi cấu hình ButtonConfig menu "+current["menuName"])}if(current.hasOwnProperty("steps")&&(Array.isArray(current.steps)&&current.steps.length>1&&(menuDetail["items"]=current.steps),current.steps&&!Array.isArray(current.steps))){var stepsItems=[];stepsItems.push(current.steps),menuDetail["items"]=stepsItems}menuData.push(menuDetail)}commit("setLoadingDynamicBtn",!1),commit("setMenuConfigToDo",menuData),resolve(menuData)})).catch((function(t){commit("setLoadingDynamicBtn",!1),reject(t)}))})).catch((function(){}))})):new Promise((function(t,e){commit("setLoadingDynamicBtn",!1),t(state.trangThaiHoSoList)}))},loadListThuTucHanhChinh:function(t){var e=t.commit,a=t.state;return null===a.listThuTucHanhChinh?new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getListThuTucHanhChinh,o).then((function(a){var n=a.data,i=Array.from(n.data);e("setListThuTucHanhChinh",i),t(i)})).catch((function(t){n(t)}))})).catch((function(){}))})):new Promise((function(t,e){var n=Array.from(a.listThuTucHanhChinh);t(n)}))},loadingDataHoSo:function(t,e){var a=t.commit,n=t.state;return a("setLoadingTable",!0),new Promise((function(t,i){store.dispatch("loadInitResource").then((function(o){var r={start:e.page*e.numberPerPage-e.numberPerPage,end:e.page*e.numberPerPage,agency:e.agency?e.agency:"",service:e.service?e.service:"",template:e.template?e.template:"",status:e.status?e.status:"",register:e.register?e.register:"",keyword:e.keyword?e.keyword:"",domain:e.domain?e.domain:"",substatus:e.substatus?e.substatus:"",year:e.year?e.year:0,month:e.month?e.month:0,day:e.day?e.day:0,top:e.top?e.top:"",dossierNo:e.dossierNo?e.dossierNo:"",paymentStatus:e.paymentStatus?e.paymentStatus:""};for(var s in e["follow"]&&(r.follow=e.follow,r.originality=0),e["originality"]&&(r.originality=e.originality),e["viapostal"]&&(r.viapostal=e.viapostal),e["sort"]&&(r.sort=e.sort),""!==e.order&&(r.order="true"===String(e.order)),n.filterDateFromTo)e.hasOwnProperty(n.filterDateFromTo[s])&&e[n.filterDateFromTo[s]]&&(r[n.filterDateFromTo[s]]=e[n.filterDateFromTo[s]]);!r.hasOwnProperty("order")||!0!==r.order&&!1!==r.order||(e.queryParams=e.queryParams.replace("order=false",""),e.queryParams=e.queryParams.replace("order=true",""),e.queryParams=e.queryParams.replace("&order=false",""),e.queryParams=e.queryParams.replace("&order=true",""));var c=e.queryParams.split("?");0!==c.length&&(c[1]?"&"===c[1].charAt(0)&&(e.queryParams=c[1].slice(1)?c[0]+"?"+c[1].slice(1):c[0]):e.queryParams=c[0]);var d={headers:{groupId:n.initData.groupId},params:r};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.queryParams,d).then((function(e){var n=e.data;a("setLoadingTable",!1),a("setUserNextAction",[]),t(n)})).catch((function(t){a("setLoadingTable",!1),a("setUserNextAction",[]),i(t)}))})).catch((function(){}))}))},getGroupDossier:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={originality:9},o={headers:{groupId:a.initData.groupId},params:i};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dossiers/todo",o).then((function(e){var a=e.data;a.data?t(a.data):t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},loadingCounterNotStep:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={start:0,end:1,agency:e.agency?e.agency:"",service:e.service?e.service:"",template:e.template?e.template:"",status:e.status?e.status:"",register:e.register?e.register:"",keyword:e.keyword?e.keyword:"",domain:e.domain?e.domain:"",substatus:e.substatus?e.substatus:"",year:e.year?e.year:0,month:e.month?e.month:0,day:e.day?e.day:0,top:e.top?e.top:"",dossierNo:e.dossierNo?e.dossierNo:"",viapostal:e.viapostal?e.viapostal:""};e["originality"]&&(o["originality"]=e.originality);var r={headers:{groupId:a.initData.groupId},params:o};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(e.queryParams,r).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadingCounterHoSo:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};e.hasOwnProperty("originality")&&1===e.originality&&(o["params"]={owner:!0}),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.counterMenuStep,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadDossierSelected:function(t,e){var a=t.commit;t.state;a("dossierSelected",e)},loadActionActive:function(t,e){var a=t.commit;t.state;a("actionActive",e)},loadDictItems:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){store.dispatch("loadInitResource").then((function(o){var r={headers:{groupId:n.initData.groupId},params:{parent:e.parent}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.regionApi+"/"+e.collectionCode+"/dictitems",r).then((function(n){var i=n.data;"ADMINISTRATIVE_REGION"===e.collectionCode&&(0!==e.level||e.hasOwnProperty("commit")||a("setCitys",i.data)),t(n.data)}),(function(t){i(t)}))})).catch((function(){}))}))},resetThongTinChungHoSo:function(t){var e=t.commit,a={serviceConfig:{},serviceOption:"",receiveDate:new Date,dueDate:(new Date).toString(),durationDate:"",dossierId:"",dossierNo:"",govAgencyName:"",dossierIdCTN:"",processBlock:"",processUnit:"",dossierStatus:"",dossierStatusText:"",submitDate:""};e("setThongTinChungHoSo",a)},resetThongTinChuHoSo:function(t){var e=t.commit,a={userType:"1",cityCode:"",districtCode:"",wardCode:"",applicantIdNo:"",contactEmail:"",contactName:"",address:"",applicantName:""};e("setThongTinChuHoSo",a)},resetThongTinNguoiNopHoSo:function(t){var e=t.commit,a={sameUser:"",delegateName:"",delegateCityCode:"",delegateAddress:"",delegateDistrictCode:"",delegateWardCode:"",delegateEmail:"",delegateTelNo:"",delegateIdNo:""};e("setThongTinNguoiNopHoSo",a)},resetThanhPhanHoSo:function(t){var e=t.commit;e("setDossierTemplates",[])},loadDossierMark:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},params:{type:1}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/marks",i).then((function(e){var a=e.data;if(a.data){var n=a.data;t(n)}else t([])})).catch((function(t){n(t)}))}))},loadDossierTemplates:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierTemplatesApi+"/"+e.dossierTemplateNo,o).then((function(e){var n=e.data,i=function(t){try{return JSON.parse(t),JSON.parse(t)}catch(n){var e={tip:t,maxSize:30,extensions:a.fileTypeAllowDefault};return e}};if(n&&n["dossierParts"])for(var o in n["dossierParts"]){n["dossierParts"][o].hasTemplate=!1,n["dossierParts"][o].hasTemplateLienThong=!1,n["dossierParts"][o].fileMarkDefault="",n["dossierParts"][o].recordCountDefault="";var r=n["dossierParts"][o]["partTip"];n["dossierParts"][o]["partTip"]=i(r)}t(n)}),(function(t){n(t)}))})).catch((function(){}))}))},loadAllDossierTemplates:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierTemplatesApi+"/"+e.dossierTemplateNo,o).then((function(e){var n=e.data,i=function(t){try{return JSON.parse(t),JSON.parse(t)}catch(n){var e={tip:t,maxSize:30,extensions:a.fileTypeAllowDefault};return e}};if(n&&n["dossierParts"])for(var o in n["dossierParts"]){var r=n["dossierParts"][o]["partTip"];n["dossierParts"][o]["partTip"]=i(r)}t(n.dossierParts)}),(function(t){n(t)}))})).catch((function(){}))}))},copyFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams;o.append("dossierTemplateNo",e.dossierTemplateNo?e.dossierTemplateNo:""),o.append("dossierPartNo",e.dossierPartNo?e.dossierPartNo:""),o.append("dossierFileId",e.dossierFileId?e.dossierFileId:""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/files/copyfile",o,i).then((function(e){t(e)})).catch((function(t){n(t)}))}))},deleteAttackFiles:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams;e.hasForm||e.eform?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid+"/resetformdata",o,i).then((function(e){t(e)})).catch((function(t){n(t)})):axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.fileTemplateNo+"/all",i).then((function(e){t(e)})).catch((function(t){n(t)}))}))},deleteDossierFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid,i).then((function(e){t(e)})).catch((function(t){n(t)}))}))},resetCounterTemplate:function(t,e){t.commit;var a=t.state;a.dossierTemplates.forEach((function(t){t.partNo===e.partNo&&(t.hasForm?t.count=1:t.count=0)}))},deleteSingleFile:function(t,e){t.commit;var a=t.state,n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.dossierApi+"/"+a.thonTinChungHoSo.dossierId+"/files/"+e.referenceUid,n).then((function(t){})).catch((function(t){}))},uploadSingleFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i=[],o=jquery__WEBPACK_IMPORTED_MODULE_5___default()('input[id="file'+e.partNo+'"]')[0].files,r=o.length,s=0;if(o)for(var c=0;c<r;c++){var d=o[c],u=d["name"];d["name"]&&(u=d["name"].replace(/\%/g,""),u=u.replace(/\//g,""),u=u.replace(/\\/g,""));var p=new FormData;3===e.partType?(e["displayName"]&&(u=e["displayName"].replace(/\%/g,""),u=u.replace(/\//g,""),u=u.replace(/\\/g,"")),p.append("displayName",u)):p.append("displayName",u),p.append("fileType",d.type),p.append("fileSize",d.size),p.append("isSync","false"),p.append("file",d,u),p.append("dossierPartNo",e.partNo),p.append("dossierTemplateNo",e.dossierTemplateNo),p.append("fileTemplateNo",e.fileTemplateNo),p.append("formData",""),p.append("referenceUid","");var _={partTip:e.partTip,file:d};store.dispatch("validFileUpload",_),d&&a.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/files",p,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then((function(e){s+=1,i.push(e.data),s===r&&t(i)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),s+=1,s===r&&n(i)})):(s+=1,s===r&&n(i))}}))},uploadFileDossierGroup:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams;o.append("dossierIds",e.dossierIds?e.dossierIds:""),o.append("dossierFileId",e.dossierFileId?e.dossierFileId:""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/dossierfiles",o,i).then((function(e){t(e)})).catch((function(t){n(t)}))}))},uploadSingleOtherFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i=new FormData,o=e["displayName"];e["displayName"]&&(o=e["displayName"].replace(/\%/g,""),o=o.replace(/\//g,""),o=o.replace(/\\/g,"")),i.append("displayName",e.displayName?o:""),i.append("dossierPartNo",e.partNo?e.partNo:""),i.append("file",""),i.append("fileType",""),i.append("fileSize",""),i.append("isSync","false"),i.append("dossierTemplateNo",""),i.append("fileTemplateNo",""),i.append("formData",""),i.append("referenceUid",""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/files",i,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear()})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))}))},uploadPaymentFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#"+e.selector)[0].files,o=i[0],r=o["name"];o["name"]&&(r=o["name"].replace(/\%/g,""),r=r.replace(/\//g,""),r=r.replace(/\\/g,""));var s=new FormData;s.append("file",o,r);var c={partTip:e["partTip"],file:o};store.dispatch("validFileUpload",c),o&&a.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/"+e.dossierId+"/payments/"+e.referenceUid+"/confirmfile",s,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải file lên thất bại"),n(t)})):n("error")}))},uploadDossierFileImport:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#"+e.selector)[0].files,o=i[0],r=o["name"],s=new FormData;s.append("file",o,r);var c={partTip:e["partTip"],file:o};store.dispatch("validFileUpload",c),o&&a.validFileUpload?axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/dossiers/createMutiplite/files",s,{headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}}).then((function(e){t(e.data)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tải file lên thất bại"),n(t)})):n("error")}))},getDetailDossier:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){store.dispatch("loadInitResource").then((function(o){var r={headers:{groupId:n.initData.groupId,secretCode:e.secretCode}};a("setLoading",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.postDossierApi+"/"+e.referenceUid,r).then((function(e){var n={delegateName:e.data.delegateName,delegateCityCode:e.data.delegateCityCode,delegateAddress:e.data.delegateAddress,delegateDistrictCode:e.data.delegateDistrictCode,delegateWardCode:e.data.delegateWardCode,delegateEmail:e.data.delegateEmail,delegateTelNo:e.data.delegateTelNo,delegateIdNo:e.data.delegateIdNo};t(e.data),a("setLoading",!1),a("setDossier",e.data),a("setThongTinChuHoSo",e.data),a("setLePhi",e.data),a("setThongTinNguoiNopHoSo",n),a("setThongTinChungHoSo",e.data),a("setDichVuChuyenPhatKetQua",e.data)}),(function(t){a("setLoading",!1),i(t)})).catch((function(t){}))})).catch((function(){}))}))},getGovAgency:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){var n={headers:{groupId:a.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.regionApi+"/GOVERNMENT_AGENCY/dictitems",n).then((function(e){t(e.data.data)})).catch((function(t){}))}))},getDocumentType:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){var n={headers:{groupId:a.initData.groupId},params:{sort:"sibling"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.regionApi+"/DOCUMENT_TYPE/dictitems",n).then((function(e){e.data&&e.data.data?t(e.data.data):t(null)})).catch((function(){e(null)}))}))},loadDossierFiles:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){var o={headers:{groupId:n.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.dossierApi+"/"+e+"/files",o).then((function(e){a("setDossierFiles",e.data.data),e.data.data?t(e.data.data):t([])})).catch((function(e){t([])}))}))},getPaymentFiles:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){var o={headers:{groupId:n.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.dossierApi+"/"+e.dossierId+"/payments/"+e.referenceUid+"/confirmfile",o).then((function(e){200===e.status||"200"===e.status?t("hasPayment"):t(""),e.headers["content-disposition"]?a("setPaymentFileName",e.headers["content-disposition"].split(";")[1].split("=")[1].replace(/\"/g,"")):a("setPaymentFileName","payment_file")})).catch((function(t){i(t)}))}))},putPayments:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/keypay/"+e.referenceUid+"/"+e.referenceUid,o,i).then((function(e){store.dispatch("getActiveGetCounter",!a.activeGetCounter),e.data?t(e.data):t([])})).catch((function(t){n(t)}))}))},viewFile:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid,i).then((function(e){if(e.data){var a=window.URL.createObjectURL(e.data);t(a)}else t("pending")})).catch((function(t){}))}))},viewPaymentFile:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/payments/"+e.referenceUid+"/confirmfile",i).then((function(e){var a=window.URL.createObjectURL(e.data);t(a)})).catch((function(t){}))}))},viewDocument:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/documents/"+e.referenceUid,i).then((function(e){var a=window.URL.createObjectURL(e.data);t(a)})).catch((function(t){}))}))},downloadFileDocument:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/documents/"+e.referenceUid,i).then((function(e){var a=window.URL.createObjectURL(e.data),n=decodeURI(e.headers["content-disposition"].match(/filename="(.*)"/)[1].split(".")[1]),i=decodeURI(e.headers["content-disposition"].match(/filename="(.*)"/)[1]);if("pdf,png,jpg,jpeg".indexOf(n.toLowerCase())>=0)t(a);else{var o=e.data;file_saver__WEBPACK_IMPORTED_MODULE_6___default()(o,i)}})).catch((function(t){}))}))},postDossier:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},r=new URLSearchParams;r.append("serviceCode",e.serviceCode),r.append("govAgencyCode",e.govAgencyCode),r.append("dossierTemplateNo",e.templateNo),r.append("originality",e.originality),e.j_captcha_response&&r.append("j_captcha_response",e.j_captcha_response),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n.initData.postDossierApi,r,o).then((function(i){i.data.serviceConfig=n.serviceConfigObj,a("setLoading",!1),a("setDossier",i.data),a("setThongTinChuHoSo",i.data),a("setLePhi",i.data),a("setThongTinChungHoSo",i.data),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),e.j_captcha_response?t(i):t(i.data)})).catch((function(t){i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)}))}))},postDossierIntoGroup:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},r=new URLSearchParams;r.append("dossierId",e.dossierId),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put("/o/rest/v2/dossiers/"+e.groupDossierId+"/groupDossier",r,o).then((function(e){a("setLoading",!1),t(e.data)})).catch((function(t){a("setLoading",!1),i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại")}))}))},postDossierNewVersion:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},r=new URLSearchParams;r.append("serviceCode",e.serviceCode),r.append("govAgencyCode",e.govAgencyCode),r.append("dossierTemplateNo",e.templateNo),r.append("originality",e.originality),r.append("dossiers",e.dossiers),r.append("dossierFileArr",e.dossierFileArr),r.append("dossierMarkArr",e.dossierMarkArr),r.append("payment",e.payment),e.j_captcha_response&&r.append("j_captcha_response",e.j_captcha_response),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/dossiers/create/all",r,o).then((function(i){i.data.serviceConfig=n.serviceConfigObj,a("setLoading",!1),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),e.j_captcha_response?t(i):t(i.data)})).catch((function(t){i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)}))}))},getDossiersIntoGroup:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},params:{groupDossierId:e.groupDossierId?e.groupDossierId:""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dossiers",i).then((function(e){e.data&&e.data["data"]&&t(e.data["data"])})).catch((function(t){n(t)}))}))},doCopy:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n.initData.postDossierApi+"/"+e.dossierId+"/cloning",r,o).then((function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),t(e.data)})).catch((function(t){i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)}))}))},doCancel:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId,Accept:"application/json"}},r=new URLSearchParams;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n.initData.postDossierApi+"/"+e.dossierId+"/cancel",r,o).then((function(e){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),t(e.data)})).catch((function(t){i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)}))}))},putDossier:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!1);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},r="";r="2"===e.userType?"business":"1"===e.userType?"citizen":"organization";var s=!1;null!==e["sameUser"]&&void 0!==e["sameUser"]&&"undefined"!==e["sameUser"]&&(s=e["sameUser"]);var c=new URLSearchParams;c.append("applicantName",e.applicantName?e.applicantName:""),c.append("dossierNo",e.dossierNo?e.dossierNo:""),c.append("applicantIdType",r),c.append("applicantIdNo",e.applicantIdNo?e.applicantIdNo:""),c.append("address",e.address?e.address:""),c.append("cityCode",e.cityCode?e.cityCode:""),c.append("districtCode",e.districtCode?e.districtCode:""),c.append("wardCode",e.wardCode?e.wardCode:""),c.append("contactTelNo",e.contactTelNo?e.contactTelNo:""),c.append("contactEmail",e.contactEmail?e.contactEmail:""),c.append("delegateName",e.delegateName?e.delegateName:""),c.append("delegateIdNo",e.delegateIdNo?e.delegateIdNo:""),c.append("delegateTelNo",e.delegateTelNo?e.delegateTelNo:""),c.append("delegateEmail",e.delegateEmail?e.delegateEmail:""),c.append("delegateAddress",e.delegateAddress?e.delegateAddress:""),c.append("delegateCityCode",e.delegateCityCode?e.delegateCityCode:""),c.append("delegateDistrictCode",e.delegateDistrictCode?e.delegateDistrictCode:""),c.append("delegateWardCode",e.delegateWardCode?e.delegateWardCode:""),c.append("applicantNote",n.applicantNote),c.append("dossierName",e.dossierName?e.dossierName:""),c.append("isSameAsApplicant",s),e.editable&&c.append("dueDate",e.dueDate?e.dueDate:""),e.viaPostal&&(c.append("viaPostal",e.viaPostal),c.append("postalServiceCode",e.postalServiceCode?e.postalServiceCode:""),c.append("postalAddress",e.postalAddress?e.postalAddress:""),c.append("postalCityCode",e.postalCityCode?e.postalCityCode:""),c.append("postalTelNo",e.postalTelNo?e.postalTelNo:""),e.hasOwnProperty("vnpostalStatus")&&c.append("vnpostalStatus",e.vnpostalStatus)),e.viaPostal&&"1"===String(e.vnpostalStatus)&&c.append("vnpostalProfile",JSON.stringify(e.vnpostalProfile)),c.append("sampleCount",e.sampleCount?e.sampleCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(n.initData.postDossierApi+"/"+e.dossierId,c,o).then((function(e){t(e.data),a("setLoading",!1),a("setDossier",e.data),a("setThongTinChuHoSo",e.data),a("setThongTinChungHoSo",e.data),a("setLePhi",e.data),a("setDichVuChuyenPhatKetQua",e.data)})).catch((function(t){i(t)}))}))},importDossier:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!1);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},r=new URLSearchParams;r.append("serviceCode",e["serviceCode"]),r.append("govAgencyCode",e["govAgencyCode"]),r.append("dossierTemplateNo",e["dossierTemplateNo"]),r.append("originality",e["originality"]),r.append("dossiers",e["dossiers"]),r.append("dossierFileArr",e["dossierFiles"]),r.append("dossierMarkArr",e["dossierMarks"]),r.append("payment",e["payment"]),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(n.initData.postDossierApi+"/import/all",r,o).then((function(e){t(e.data)})).catch((function(t){i(t)}))}))},updateApplicantNote:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},o=new URLSearchParams;o.append("applicantNote",a.applicantNote),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.postDossierApi+"/"+e.dossierId,o,i).then((function(e){t(e.data)})).catch((function(t){n(t)}))}))},getApplicantInfos:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/applicants/ngsp/"+e.applicantIdNo,i).then((function(e){e.data&&e.data["Data"]&&t(e.data["Data"])})).catch((function(t){n(t)}))}))},checkApplicantInfos:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId?a.initData.groupId:"",Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},o=a.endPointApi+"/applicants/ngsp/verify",r=new URLSearchParams;r.append("applicantIdNo",e.applicantIdNo?e.applicantIdNo:""),r.append("applicantName",e.applicantName?e.applicantName:""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(o,r,i).then((function(e){t(e.data)})).catch((function(t){n(t)}))}))},getDossierFilesApplicants:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/applicant/"+e.applicantIdNo+"/files/"+e.fileTemplateNo+"/search",i).then((function(e){e.data.data?t(e.data.data):t([])})).catch((function(t){n(t)}))}))},putDuedateDossier:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!1);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},r=new URLSearchParams;r.append("dueDate",e),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(n.initData.postDossierApi+"/"+n.thongTinChungHoSo.dossierId,r,o).then((function(e){t(e.data)})).catch((function(t){i(t)}))}))},submitDossier:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){var n={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+a.thongTinChungHoSo.dossierId+"/submitting",n).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},postDossierMark:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded",cps_auth:""}},o=new URLSearchParams;1===e["checkInput"]?(void 0!==e.fileCheck&&"undefined"!==e.fileCheck&&null!==e.fileCheck&&o.append("fileCheck",e.fileCheck),void 0!==e.fileComment&&"undefined"!==e.fileComment&&null!==e.fileComment&&o.append("fileComment",e.fileComment)):void 0!==e.fileMark&&"undefined"!==e.fileMark&&o.append("fileMark",e.fileMark),isNaN(e.recordCount)||void 0===e.recordCount||"undefined"===e.recordCount||null===e.recordCount||o.append("recordCount",e.recordCount);var r=a.initData.dossierApi+"/"+e.dossierId+"/marks/"+e.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,o,i).then((function(e){t(e.data)})).catch((function(t){n(t)}))}))},postAction:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId}},r=new URLSearchParams;r.append("actionCode",e.actionCode?e.actionCode:""),r.append("actionNote",e.actionNote?e.actionNote:""),r.append("actionUser",e.actionUser?e.actionUser:""),r.append("payload",e.payload?JSON.stringify(e.payload):""),r.append("security",e.security?e.security:""),r.append("assignUsers",e.assignUsers?JSON.stringify(e.assignUsers):""),r.append("payment",e.payment?JSON.stringify(e.payment):""),r.append("createDossiers",e.createDossiers?e.createDossiers:"");var s=n.initData.dossierApi+"/"+e.dossierId+"/actions";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,r,o).then((function(e){t(e.data),a("setLoading",!1),store.dispatch("getActiveGetCounter",!n.activeGetCounter)})).catch((function(t){i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),store.commit("setLoading",!1)}))}))},getUserInfoFromApplicantIdNo:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{start:0,end:5,idNo:e.idNo}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.applicantApi,o).then((function(e){t(e.data.data)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadAlpcaForm:function loadAlpcaForm(_ref57,data){var commit=_ref57.commit,state=_ref57.state,dispatch=_ref57.dispatch,id=data["id"]?data["id"]:"nm",formScript,formData;window.$('div[id="formAlpaca'+data.dossierPartNo+id+'"]').empty(),formScript=data.formScript?eval("("+data.formScript+")"):{},formData=data.formData?eval("("+data.formData+")"):{},formScript.data=formData,window.$('div[id="formAlpaca'+data.dossierPartNo+id+'"]').alpaca(formScript)},putAlpacaForm:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,cps_auth:""}},o=e["id"]?e["id"]:"nm";try{var r=window.$('div[id="formAlpaca'+e.dossierPartNo+o+'"]').alpaca("get"),s=r.getValue(),c=window.$('div[id="formAlpaca'+e.dossierPartNo+o+'"]').alpaca("get").childrenByPropertyId;if(c)for(var d in c)if(c[d].isRequired()&&""===c[d].getValue())return toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(c[d].options.title?c[d].options.title+" là trường dữ liệu bắt buộc":c[d].options["name"]+" là trường dữ liệu bắt buộc"),void n("valid");var u=new URLSearchParams;u.append("formdata",JSON.stringify(s));var p=a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid+"/formdata";axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(p,u,i).then((function(e){t(e.data)})).catch((function(t){n(e)}))}catch(_){n(e)}}))},putAlpacaFormCallBack:function(t,e){t.commit;var a=t.state;t.dispatch;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,cps_auth:""}};try{var o=new URLSearchParams;o.append("formdata",JSON.stringify(e));var r=a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid+"/formdata";axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(r,o,i).then((function(e){t(e.data)})).catch((function(t){n(e)}))}catch(s){n(e)}}))},rollBack:function(t,e){var a=t.state;t.commit;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};try{var o=new URLSearchParams,r=a.initData.dossierApi+"/"+e.dossierId+"/rollback";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,o,i).then((function(e){t(e.data),store.dispatch("getActiveGetCounter",!a.activeGetCounter)})).catch((function(t){n(e)}))}catch(s){n(e)}}))},goToStep:function(t,e){var a=t.state;t.commit;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};try{var o=new URLSearchParams,r=a.initData.dossierApi+"/"+e.dossierId+"/goto/"+e.stepCode;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,o,i).then((function(e){t(e.data),store.dispatch("getActiveGetCounter",!a.activeGetCounter)})).catch((function(t){n(e)}))}catch(s){n(e)}}))},postEform:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}};try{var o=e["id"]?e["id"]:"nm",r=new FormData,s=window.$('div[id="formAlpaca'+e.partNo+o+'"]').alpaca("get"),c=s.getValue();r.append("formData",JSON.stringify(c)),r.append("file","");var d=window.$('div[id="formAlpaca'+e.partNo+o+'"]').alpaca("get").childrenByPropertyId;if(d)for(var u in d)if(d[u].isRequired()&&""===d[u].getValue())return toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error(d[u].options.title?d[u].options.title+" là trường dữ liệu bắt buộc":d[u].options["name"]+" là trường dữ liệu bắt buộc"),void n("valid");var p=a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(p,r,i).then((function(e){t(e.data)})).catch((function(t){n(e)}))}catch(_){n(e)}}))},postEformCallBack:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}};try{var o=new FormData;o.append("formData",JSON.stringify(e)),o.append("file","");var r=a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.tp;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,o,i).then((function(e){t(e.data)})).catch((function(t){n(e)}))}catch(s){n(e)}}))},postEformEsignature:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId,"Content-Type":"multipart/form-data"}};try{var o=new FormData;o.append("formData",JSON.stringify(JSON.parse(e.formData))),o.append("file","");var r=a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.partNo;axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(r,o,i).then((function(e){t(e.data)})).catch((function(t){n(e)}))}catch(s){n(e)}}))},postVNPOST:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){a("setLoading",!0);var o={headers:{groupId:n.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},r=new URLSearchParams;r.append("customerCode","ccth"),r.append("orderNumber",n.thongTinChungHoSo.dossierId),r.append("senderProvince",e.senderProvince),r.append("senderAddress",e.senderAddress),r.append("senderName",e.senderName),r.append("senderTel",e.senderTel),r.append("receiverName",e.receiverName),r.append("receiverAddress",e.receiverAddress),r.append("receiverTel",e.receiverTel),r.append("receiverProvince",e.receiverProvince);var s="/o/rest/v2/postal/vnpost";axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(s,r,o).then((function(e){t(e.data),a("setLoading",!1)})).catch((function(t){i(t),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),a("setLoading",!1)}))}))},getDossierTemplateEdit:function(t){t.commit;var e=t.state;return new Promise((function(t,a){var n=e.dossierTemplates,i=[];try{0===e.dossierFiles.length?dispatch("loadDossierFiles").then((function(e){e.forEach((function(t){n.forEach((function(e){t.dossierPartNo===e.partNo&&i.push({partName:e.partName,partNo:e.partNo,displayName:t.displayName,dossierFileId:t.dossierFileId,partType:e.partType,hasForm:e.hasForm,fileType:t.fileType,referenceUid:t.referenceUid})}))})),t(i)})).catch((function(e){t([])})):e.dossierFiles.forEach((function(t){n.forEach((function(e){t.dossierPartNo===e.partNo&&i.push({partName:e.partName,partNo:e.partNo,displayName:t.displayName,dossierFileId:t.dossierFileId,partType:e.partType,hasForm:e.hasForm,fileType:t.fileType,referenceUid:t.referenceUid})}))})),t(i)}catch(o){a([])}}))},loadPlugin:function loadPlugin(_ref67,item){var commit=_ref67.commit,state=_ref67.state;return new Promise((function(resolve,reject){item.plugin=!0;var urlPluginFormData=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formdata",urlPluginFormScript=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/formscript",config_plugins={headers:{groupId:state.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormScript,config_plugins),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(urlPluginFormData,config_plugins)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread((function(urlResponesFormScript,urlResponesFormData){var responseScript=urlResponesFormScript.data,responseData=urlResponesFormData.data;if(item.plugin=!0,-1!==responseScript.indexOf("#preview@pdf")){var url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/preview",config_blob={headers:{groupId:state.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(url,config_blob).then((function(t){var e=window.URL.createObjectURL(t.data);item.pdf=!0,item.url=e,item.no_pdf="",resolve(item)})).catch((function(t){item.pdf=!0,item.url="",item.no_pdf="Tài liệu đính kèm không tồn tại!",resolve(item)}))}if(-1!==responseScript.indexOf("#preview@html")){var config_view={headers:{groupId:state.initData.groupId},dataType:"json"};item.html=!0,item.no_html="";var _url=state.initData.dossierApi+"/"+item.dossierId+"/plugins/"+item.processPluginId+"/previewhtml";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(_url,config_view).then((function(response){item.no_html="",vm.stepModel=item;var serializable=response.data,partNo=serializable.partNo,dossierFileId=serializable.dossierFileId,formReport=eval("("+serializable.formReport+")"),formData=eval("("+serializable.formData+")");formReport.data=formData,window.$("#alpacajs_form_plugin").alpaca(formReport),window.$(".dossierFilePartNo").val(""),window.$(".dossierFilePartNo").attr("id","dossierFileId"+partNo),window.$(".dossierFilePartNo").val(dossierFileId)})).catch((function(t){item.html=!0,item.no_html="Tài liệu đính kèm không tồn tại!",resolve(item)}))}}))).catch((function(t){reject(t)}))}))},getActiveGetCounter:function(t,e){var a=t.commit;t.state;a("setActiveGetCounter",e)},getActiveLoadingDataHoSo:function(t,e){var a=t.commit;t.state;a("setActiveLoadingDataHoSo",e)},setDefaultCityCode:function(t,e){t.commit;var a=t.state;a.thongTinChuHoSo.cityCode=e},getListHistoryProcessingItems:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=[];axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierlogsApi+"/"+e.dossierId+"/logs",o).then((function(e){var a=e.data;for(var n in a.data)"PROCESS_TYPE"===a.data[n].notificationType&&r.push(a.data[n]);t(r)})).catch((function(t){n(t)}))}))}))},loadDossierLogs:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},params:{notificationType:e.type}},o=a.initData.dossierApi+"/"+e.dossierId+"/logs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then((function(e){t(e.data.data)})).catch((function(t){n(t)}))}))},loadPlugins:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=a.initData.dossierApi+"/"+e.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then((function(e){t(e.data.data)})).catch((function(t){n(t)}))}))},downloadFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/files/"+e.fileAttachId,i).then((function(e){var a=window.URL.createObjectURL(e.data),n=decodeURI(e.headers["content-disposition"].match(/filename="(.*)"/)[1].split(".")[1]),i=decodeURI(e.headers["content-disposition"].match(/filename="(.*)"/)[1]);if("pdf,png,jpg,jpeg".indexOf(n.toLowerCase())>=0)t(a);else{var o=e.data;file_saver__WEBPACK_IMPORTED_MODULE_6___default()(o,i)}})).catch((function(t){n(t)}))}))},getCpsAuthen:function(t){t.commit;var e=t.state;return new Promise((function(t,a){var n={headers:{groupId:e.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("http://127.0.0.1:8080/api/onegate/token",n).then((function(e){t(e.data)})).catch((function(t){a(t)}))}))},loadUsersComment:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i=[],o={headers:{groupId:a.initData.groupId},params:{userMapping:!0}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e+"/contacts",o).then((function(e){if(null!=e&&e.hasOwnProperty("data")){var a=e.data;jquery__WEBPACK_IMPORTED_MODULE_5___default.a.each(a,(function(t,e){var a={};a.id=e.userId,a.fullname=e.userName,a.email=e.email,a.profilePictureURL=e.profileUrl,i.push(a)}))}else i=[];t(i)})).catch((function(t){i=[],n(i)}))}))},loadCommentItems:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.commentApi+"/"+e.className+"/"+e.classPK,i).then((function(e){t(e.data.data)})).catch((function(t){n(t)}))}))},postComment:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=e.pings.join(),r=new URLSearchParams;r.append("className",e.className),r.append("classPK",e.classPK),r.append("parent",null!=e.parent?e.parent:0),r.append("pings",o),r.append("content",e.content),r.append("upvoteCount",null!=e.upvoteCount?e.upvoteCount:0),r.append("opinion",e.opinion),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.commentApi,r,i).then((function(e){var a={};null!=e&&(a=e.data),t(a)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))}))},putComment:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=e.pings.join(),r=new URLSearchParams;r.append("pings",o),r.append("content",e.content),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.commentApi+"/"+e.commentId,r,i).then((function(e){var a={};null!=e&&(a=e.data),t(a)})).catch((function(t){}))}))},deleteComment:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.commentApi+"/"+e.commentId,i).then((function(e){t(e)})).catch((function(t){n(t)}))}))},upvoteComment:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};if(e.userHasUpvoted){var o=new URLSearchParams;o.append("className",e.className),o.append("classPK",e.classPK),o.append("commentId",e.commentId),o.append("upvoteCount",null!=e.upvoteCount?e.upvoteCount:0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.commentApi+"/"+e.commentId+"/upvotes",o,i).then((function(e){var a={};null!=e&&(a=e.data),t(a)})).catch((function(t){}))}else axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.commentApi+"/"+e.commentId+"/upvotes",i).then((function(e){var a={};null!=e&&(a=e.data),t(a)})).catch((function(t){}))}))},loadProcessStep:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=a.initData.dossierApi+"/"+e.dossierId+"/nextactions",s=a.initData.dossierApi+"/"+e.dossierId+"/plugins";axios__WEBPACK_IMPORTED_MODULE_3___default.a.all([axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(r,o),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(s,o)]).then(axios__WEBPACK_IMPORTED_MODULE_3___default.a.spread((function(e,a){var n=e.data.data,i=a.data.data,o=[],r=[];if(n)for(var s=0;s<n.length;s++){if(n[s].type=1,n[s].configNote){var c=JSON.parse(n[s].configNote);n[s].configNote=c}r.push(n[s])}else n=[],r=[];if(i)for(var d=0;d<i.length;d++){var u={type:2,processActionId:i[d].processPluginId,actionName:i[d].pluginName};o.push(u)}var p=r,_=o;p.push.apply(p,_),t(p)}))).catch((function(t){n(t)}))}))}))},pullNextactions:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){store.dispatch("loadInitResource").then((function(o){var r={headers:{groupId:n.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.getNextAction+"/"+e.dossierId+"/nextactions",r).then((function(e){var n=e.data;a("setUserNextAction",[]),a("setCheckInput",n["checkInput"]),a("setStepOverdueNextAction",n["stepOverdue"]),n["users"]&&(Array.isArray(n["users"])?a("setUserNextAction",n["users"]):a("setUserNextAction",[n["users"]])),t(n.data)})).catch((function(t){i(t),a("setUserNextAction",[])}))})).catch((function(){}))}))},pullBtnConfigStep:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.stepConfigApi+"/status/"+e.dossierStatus+"/"+e.dossierSubStatus,i).then((function(e){var a,n=e.data.data;a=n[0].buttonConfig&&n[0].buttonConfig.indexOf("{")>=0&&JSON.parse(n[0].buttonConfig)["buttons"]?JSON.parse(n[0].buttonConfig)["buttons"]:[],t(a)})).catch((function(t){n(t)}))}))},loadDossierDocuments:function(t,e){t.commit;var a=t.state,n={headers:{groupId:a.initData.groupId},params:{}},i=a.initData.documentApi+"/"+e.dossierId+"/documents";return new Promise((function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,n).then((function(e){e.data.data?t(e.data.data):t([])})).catch((function(t){e(t)}))}))},loadDossierPayments:function(t,e){t.commit;var a=t.state,n={headers:{groupId:a.initData.groupId,secretCode:e.secretCode},params:{}},i=a.initData.dossierApi+"/"+e.dossierId+"/payment";return new Promise((function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,n).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},postDossierPayments:function(t,e){t.commit;var a=t.state,n={headers:{groupId:a.initData.groupId}},i=new URLSearchParams;i.append("paymentFee",e.paymentFee),i.append("paymentNote",e.paymentNote);var o=a.initData.dossierApi+"/"+e.dossierId+"/payment";return new Promise((function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(o,i,n).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},loadDossierActions:function(t,e){t.commit;var a=t.state,n={headers:{groupId:a.initData.groupId},params:{stepType:e.stepType}},i=a.initData.dossierApi+"/"+e.dossierId+"/sequences";return new Promise((function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,n).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},loadMermaidgraph:function(t,e){t.commit;var a=t.state,n={headers:{groupId:a.initData.groupId},params:{stepType:e.stepType}},i=a.initData.dossierApi+"/"+e.dossierId+"/mermaidgraph";return new Promise((function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,n).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},loadDossierLienThong:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{originDossierId:e}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi,o).then((function(e){var a=e.data;a.data?t(a.data):t([])})).catch((function(t){n(t)}))})).catch((function(){}))}))},getDossierUserAsign:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e+"/users",o).then((function(e){var a=e.data;a["data"]?Array.isArray(a["data"])?t(a.data):t([a["data"]]):t([])})).catch((function(t){n(t)}))}))}))},postDossierUserAsign:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=new URLSearchParams;r.append("assignUsers",e.users?JSON.stringify(e.users):""),r.append("delegacy",e.delegacy),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.dossierApi+"/"+e.dossierId+"/users",r,o).then((function(e){t(e)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadDossierSyncs:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=a.endPointApi+"/dossiers/"+e.dossierId+"/syncs";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(o,i).then((function(e){t(e.data.data)})).catch((function(t){n(t)}))}))},processDossierRouter:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId,Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"}},r=new URLSearchParams;r.append("actionCode",e.actionCode?e.actionCode:""),r.append("payment",e.payment?JSON.stringify(e.payment):""),r.append("assignUsers",e.toUsers?JSON.stringify(e.toUsers):""),r.append("actionNote",e.userNote?JSON.stringify(e.userNote):""),r.append("payload",e.payload?JSON.stringify(e.payload):""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.getNextAction+"/"+e.dossierId+"/actions",r,o).then((function(e){store.dispatch("getActiveGetCounter",!a.activeGetCounter);var n=e.data;t(n)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},deleteDossier:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.getNextAction+"/"+e.dossierId,o).then((function(e){var n=e.data;store.dispatch("getActiveGetCounter",!a.activeGetCounter),t(n)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},restoreDossier:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId,Accept:"application/json"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/dossiers/"+e.dossierId+"/restore",o).then((function(e){var a=e.data;t(a)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},getListDossierFiles:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e+"/files",i).then((function(e){e.data.data?t(e.data.data):t([])})).catch((function(t){n(t)}))})).catch((function(){}))},deleteDossierPatch:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId,Accept:"application/json"}},r=0,s=e["dossierId"].length;for(var c in e.dossierId)axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete(a.initData.getNextAction+"/"+e.dossierId[c],o).then((function(e){var n=e.data;r+=1,r===s&&(store.dispatch("getActiveGetCounter",!a.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!a.activeLoadingDataHoSo)),t(n)})).catch((function(t){r+=1,r===s&&(store.dispatch("getActiveGetCounter",!a.activeGetCounter),store.dispatch("getActiveLoadingDataHoSo",!a.activeLoadingDataHoSo)),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},doPrint01:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},responseType:"blob",params:{payload:e.payload}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/documents/preview/"+e.document,o).then((function(e){var a=e.data,n=window.URL.createObjectURL(a);t(n)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},doPrint03:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},responseType:"blob",params:{}};e.document&&(o.params.documentType=e.document),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/documents/print",o).then((function(e){var a=e.data;if(void 0!==e["status"]&&200!==e["status"])n("pending");else if(a["size"]){var i=window.URL.createObjectURL(a);t(i)}else t("pending")})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},doGuiding:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={serviceCode:e.serviceCode?e.serviceCode:"",serviceName:e.serviceName?e.serviceName:"",typeCode:e.typeCode?e.typeCode:"",templateNo:e.templateNo?e.templateNo:"",applicantName:e.applicantName?e.applicantName:"",applicantAddress:e.applicantAddress?e.applicantAddress:"",applicantEmail:e.applicantEmail?e.applicantEmail:"",applicantTelNo:e.applicantTelNo?e.applicantTelNo:"",govAgencyCode:e.govAgencyCode?e.govAgencyCode:"",govAgencyName:e.govAgencyName?e.govAgencyName:"",applicantNote:e.applicantNote?e.applicantNote:"",type:e.type?e.type:"",applicantIdType:e.applicantType?e.applicantType:""};"denied"!==e.type&&(o["partNo"]=e.partNo?e.partNo:""),e.reportType&&(o["reportType"]=e.reportType);var r={headers:{groupId:a.initData.groupId},responseType:"blob",params:o};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getServiceConfigs+"/"+e.serviceConfigId+"/guide",r).then((function(a){var n=a.data;e.reportType&&file_saver__WEBPACK_IMPORTED_MODULE_6___default()(n,"denied"===e.type?"tuchoitiepnhan":"huongdanthutuc"+(new Date).getTime()+".doc");var i=window.URL.createObjectURL(n);t(i)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},doPrint02:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},responseType:"blob"},r=new URLSearchParams;r.append("serviceCode",e.serviceCode),r.append("govAgencyCode",e.govAgencyCode),r.append("dossiers",e.dossiers),r.append("payload",e.payload),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post(a.initData.getNextAction+"/preview/"+e.document,r,o).then((function(e){var a=e.data,n=window.URL.createObjectURL(a);t(n)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))}))}))},printPay:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/payments/"+e.referenceUid+"/invoicefile/preview",o).then((function(e){var a=e.data,n=window.URL.createObjectURL(a);t(n)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},previewTienTrinh:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},responseType:"blob"};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dossiers/"+e.dossierId+"/documents/preview/SEQUENCES",o).then((function(e){var a=e.data,n=window.URL.createObjectURL(a);t(n)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},processPullBtnDetail:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getNextAction+"/"+e.dossierId+"/nextactions/"+e.actionId,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getNextAction:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/nextactions/"+e.actionId,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadFormScript:function(t,e){var a=t.state;t.commit;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:a.initData.dossierTemplatesApi+"/"+e.templateFileNo+"/parts/"+e.partNo+"/formscript",type:"GET",headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){var a=e;t(a)},error:function(e){t(e),n(e)}})})).catch((function(){}))}))},loadFormScriptKQ:function(t,e){var a=t.state;t.commit;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:a.initData.dossierTemplatesApi+"/"+e.templateNo+"/parts/"+e.partNo+"/formscript",type:"GET",headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){var a=e;t(a)},error:function(e){t(e),n(e)}})})).catch((function(){}))}))},loadFormData:function(t,e){var a=t.state;t.commit;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){jquery__WEBPACK_IMPORTED_MODULE_5___default.a.ajax({url:a.initData.dossierApi+"/"+e.dossierId+"/eforms/"+e.partNo+"/formdata",type:"GET",headers:{groupId:a.initData.groupId,Token:window.Liferay?window.Liferay.authToken:""},dataType:"text",success:function(e){var a=e;t(a)},error:function(e){t(e),n(e)}})})).catch((function(){}))}))},loadDossierCounting:function(t,e){var a=t.state,n=(t.commit,{headers:{groupId:a.initData.groupId}}),i="/o/rest/v2/statistics/dossiers/counting";return new Promise((function(t,e){axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(i,n).then((function(e){t(e.data)})).catch((function(t){e(t)}))}))},reassignDossier:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=new URLSearchParams;r.append("toUsers",JSON.stringify(e.toUsers)),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.dossierApi+"/"+e.dossierId+"/reassign",r,o).then((function(e){var a=e.data;t(a)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Yêu cầu của bạn thực hiện thất bại."),n(t)}))})).catch((function(){}))}))},pullProcessSteps:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.stepConfigApi+"/"+e.stepCode,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadServiceConfigsGov:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:n.initData.groupId},params:{}};a("setLoadingGov",!0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.serviceConfigByGovApi,o).then((function(e){a("setLoadingGov",!1);var n=e.data;n.govAgencies?t(n.govAgencies):t([])})).catch((function(t){a("setLoadingGov",!1),e(t)}))})).catch((function(){}))}))},getServiceInfos:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={start:e.start?e.start:0,end:e.end?e.end:10,keyword:e.keyword?e.keyword.replace(/[!@#$%^&*(),?":{}|<>]/g,""):"",level:e.level?e.level:0,domain:e.domain?e.domain:""};e.domain&&(o.sort="siblingSearch");var r={headers:{groupId:a.initData.groupId},params:o};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos",r).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))}))}))},getServiceConfigs:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{start:e.start?e.start:0,end:e.end?e.end:10,agency:e.agency?e.agency:"",keyword:e.keyword?e.keyword:"",domain:e.domain?e.domain:"",level:e.level?e.level:"3,4",serviceConfigId:e.service?e.service:"",service:e.serviceCode?e.serviceCode:""}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceconfigs",o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getServiceAdminisTration:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/REPORT_GROUP/dictgroups",i).then((function(e){var a=e.data;t(a.data)})).catch((function(t){e(t)}))})).catch((function(){}))}))},getAgencys:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{}};e.parent&&(o.params={parent:e.parent}),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/REPORT_GROUP/dictgroups/"+e.administration+"/dictitems",o).then((function(e){var a=e.data;t(a.data)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getAgencysFromParent:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{}};e.parent&&(o.params={parent:e.parent}),axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/REPORT_GROUP/dictitems",o).then((function(e){var a=e.data;t(a.data)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getDomains:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{agency:e.agency?e.agency:"",sort:"siblingSearch"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos/statistics/domains",o).then((function(e){var a=e.data;t(a.data)})).catch((function(t){n(t)}))})).catch((function(){}))}))},processCheckNextActions:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=e.actionCode.split(",");axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/nextactions",o).then((function(a){var n=a.data,i=n.data,o=e,s=!1;for(var c in r)if(!s)for(var d in i)if(String(r[c])===String(i[d].actionCode)){o.actionCode=i[d].actionCode,s=!0;break}t(o)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getServiceOpionByProcess:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.getServiceConfigs+"/"+e.serviceConfigId+"/processes",o).then((function(e){var a=e.data;a.data?t(a.data):t("")})).catch((function(t){n(t)}))}))})).catch((function(){}))},getStatusLists:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/dictcollections/DOSSIER_STATUS/dictitems?parent=0",i).then((function(e){var a=e.data;if(a.data){var n=a.data;t(n)}else t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},getVNPOSTcode:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/VNPOST_CITY_CODE/dictitems",i).then((function(e){var a=e.data;if(a.data){var n=a.data;t(n)}else t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},getSubstatusLists:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dictcollections/DOSSIER_STATUS/dictitems?parent="+e.itemCode,o).then((function(e){var a=e.data;if(a.data){var n=a.data;t(n)}else t([])})).catch((function(t){n(t)}))})).catch((function(){}))}))},getAgencyLists:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId},params:{sort:"siblingSearch"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos/statistics/agencies",i).then((function(e){var a=e.data;if(a.data){var n=a.data;t(n)}else t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},getServiceLists:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/serviceinfos",i).then((function(e){var a=e.data;if(a.data){var n=a.data;null!==n&&void 0!==n&&"undefined"!==n&&n.unshift({serviceCode:"",serviceName:"toàn bộ"}),t(n)}else t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},getServiceinfoFilter:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){store.dispatch("loadInitResource").then((function(o){var r={headers:{groupId:n.initData.groupId},params:{domain:e.domain}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n.initData.getListThuTucHanhChinh,r).then((function(e){var n=e.data,i=Array.from(n.data);a("setListThuTucHanhChinh",i),t(i)})).catch((function(t){i(t)}))})).catch((function(){}))}))},getDomainLists:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId},params:{sort:"siblingSearch"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/serviceinfos/statistics/domains",i).then((function(e){var a=e.data;if(a.data){var n=a.data;t(n)}else t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},getExtraForm:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierApi+"/"+e.dossierId+"/nextactions/"+e.actionId+"/payload",o).then((function(e){var a=e.data;a.data?t(a.data):t([])})).catch((function(t){n(t)}))})).catch((function(){}))}))},getServiceInfo:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.serviceInfoApi+"/"+e.serviceInfoId,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},changeDisplayNameFile:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=new URLSearchParams;r.append("displayName",e.displayName),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(a.initData.serviceInfoApi+"/"+e.dossierId+"/files/"+e.dossierFileId,r,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadingDossierCounting:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.endPointApi+"/statistics/dossiers/counting",i).then((function(e){var a=e.data;a.hasOwnProperty("data")?t(a.data):t(null)})).catch((function(t){e(t)}))})).catch((function(){}))}))},loadVoting:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/postal/votings/"+e.className+"/"+e.classPk,o).then((function(e){var a=e.data;a&&a.data?t(a.data):t([])})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadVotingMC:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadDetailDossierMC",e["dossierDetail"]).then((function(i){var o={headers:{groupId:a.initData.groupId}},r=new URLSearchParams;r.append("method","GET"),r.append("url","/postal/votings/"+e.className+"/"+i["dossierId"]),r.append("data",""),r.append("serverCode","SERVER_"+i["govAgencyCode"]),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/proxy",r,o).then((function(e){e.data?t(e.data.data):t([])})).catch((function(t){n(t)}))})).catch((function(t){}))}))},loadDetailDossierMC:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams;o.append("method","GET"),o.append("url","/dossiers/"+e["referenceUid"]),o.append("data",""),o.append("serverCode","SERVER_"+e["govAgencyCode"]),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/proxy",o,i).then((function(e){t(e.data)})).catch((function(t){n(t)}))}))},submitVoting:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r={className:e.className,classPk:e.classPk,selected:e.selected,votingCode:e.votingCode?e.votingCode:""},s=new URLSearchParams;s.append("method","POST"),s.append("url","/postal/votings/"+e.votingId+"/results"),s.append("data",JSON.stringify(r)),s.append("serverCode",e.serverCode),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/proxy",s,o).then((function(e){t(e.data)})).catch((function(t){toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Gửi đánh giá thất bại"),n(t)}))})).catch((function(){}))}))},validFileUpload:function(t,e){t.commit,t.state;var a=e.file.name?e.file.name.split("."):"",n=a?a[a.length-1]:"",i=e.partTip["extensions"]?(e.partTip["extensions"]+","+e.partTip["extensions"].toUpperCase()).split(","):"",o=(e.partTip["maxSize"],i?i.filter((function(t){return t===n})):"");store.commit("setValidFileUpload",!1),o&&o.length>0?Number(e.file.size)<=1048576*e.partTip["maxSize"]||!e.partTip["maxSize"]?store.commit("setValidFileUpload",!0):(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên dung lượng tối đa là "+e.partTip["maxSize"]+" MB"),store.commit("setValidFileUpload",!1)):e.partTip["extensions"]?(toastr__WEBPACK_IMPORTED_MODULE_2___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_2___default.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+e.partTip["extensions"]),store.commit("setValidFileUpload",!1)):store.commit("setValidFileUpload",!0)},makeImageCap:function(t){t.commit,t.state;return new Promise((function(t,e){var a={headers:{groupId:window.themeDisplay?window.themeDisplay.getScopeGroupId():"",Accept:"application/json"},responseType:"blob"},n="/o/rest/v2/applicants/jcaptcha";axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(n,a).then((function(e){var a=window.URL.createObjectURL(e.data);t(a)})).catch((function(t){e(t)}))}))},getServiceRecently:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId},params:{start:e.start?e.start:0,end:e.end?e.end:50,top:"recently"}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceinfos/statistic/recently",o).then((function(e){var a=e.data;t(a||"")})).catch((function(t){n(t)}))})).catch((function(){}))}))},loadDossierFormTemplates:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get(a.initData.dossierTemplatesApi+"/"+e.dossierTemplateNo,o).then((function(e){var a=e.data;t(a)}),(function(t){n(t)}))})).catch((function(){}))}))},getServiceConfigDetail:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/serviceconfigs/"+e.serviceConfigId,o).then((function(e){var a=e.data;t(a||"")})).catch((function(t){n(t)}))})).catch((function(){}))}))},getScriptViewDetail:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2_1/menuconfigs/"+e.menuGroup+"/script",o).then((function(e){var a=e.data;t(a||"")})).catch((function(t){n(t)}))})).catch((function(){}))}))},getDetailMenuConfig:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2_1/menuconfigs/"+e.menuGroup,o).then((function(e){var a=e.data;t(a||"")})).catch((function(t){n(t)}))})).catch((function(){}))}))},getPreAction:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dossiers/"+e.dossierId+"/delegacy",o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getNotifyConfig:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/dossiers/"+e["dossierId"]+"/metadata/"+e["key"],o).then((function(e){var a=e.data;a&&t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},putUser:function(t,e){var a=t.commit,n=t.state;return new Promise((function(t,i){var o={headers:{groupId:n.initData.groupId}},r=new URLSearchParams,s="";s="/o/rest/v2/applicants/"+e["applicantId"],r.append("applicantName",e["applicantName"]),r.append("applicantIdType",e["applicantIdType"]),r.append("contactTelNo",e["contactTelNo"]),r.append("address",e["address"]),r.append("contactEmail",e["contactEmail"]),r.append("cityCode",e["cityCode"]),r.append("cityName",e["cityName"]),r.append("districtCode",e["districtCode"]),r.append("districtName",e["districtName"]),r.append("wardCode",e["wardCode"]),r.append("wardName",e["wardName"]),r.append("applicantIdDate",e["applicantIdDate"]),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(s,r,o).then((function(e){t(e)})).catch((function(t){i(t),a("setsnackbarerror",!0)}))}))},putNotifyConfig:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId,"Content-Type":"application/x-www-form-urlencoded"}},r={smsNotify:e["smsNotify"],emailNotify:e["emailNotify"]},s=new URLSearchParams;s.append("metaData",JSON.stringify(r)),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put("/o/rest/v2/dossiers/"+e["dossierId"]+"/metadata",s,o).then((function(e){var a=e.data;t(a)})).catch((function(t){n(t)}))})).catch((function(){}))}))},updateFileKySoPlugin:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId}},o=new URLSearchParams,r="";r="/o/rest/v2/defaultsignature/vgca/"+e["dossierId"]+"/dossierFiles",o.append("fileEntries",e["fileEntries"]),o.append("dossierFiles",e["dossierFiles"]),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put(r,o,i).then((function(e){t(e)})).catch((function(t){n(t)}))}))},getNotarization:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){var i={headers:{groupId:a.initData.groupId},params:{dossierId:e.dossierId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.get("/o/rest/v2/notarizations",i).then((function(e){var a=e.data;a.data?Array.isArray(a.data)?t(a.data):t([a.data]):t([])})).catch((function(t){n([])}))}))},createNotarization:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=new URLSearchParams;r.append("dossierId",e.dossierId),r.append("fileName",e.fileName),r.append("totalRecord",Number(e.totalRecord)),r.append("totalPage",Number(e.totalPage)),r.append("totalFee",e.totalFee.toString().replace(/\./g,"")),r.append("totalCopy",0),r.append("notarizationNo",(new Date).getTime()),r.append("notarizationYear",(new Date).getFullYear()),r.append("totalCopy",0),r.append("notarizationDate",(new Date).getTime()),r.append("signerName",""),r.append("signerPosition",""),r.append("statusCode",""),axios__WEBPACK_IMPORTED_MODULE_3___default.a.post("/o/rest/v2/notarizations",r,o).then((function(e){t(e.data)})).catch((function(t){n(t)}))})).catch((function(){}))}))},updateNotarization:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}},r=new URLSearchParams;r.append("fileName",e.fileName),r.append("totalRecord",Number(e.totalRecord)),r.append("totalPage",Number(e.totalPage)),r.append("totalFee",e.totalFee.toString().replace(/\./g,"")),r.append("totalCopy",0),axios__WEBPACK_IMPORTED_MODULE_3___default.a.put("/o/rest/v2/notarizations/"+e.notarizationId,r,o).then((function(e){t(e)})).catch((function(t){n(t)}))})).catch((function(){}))}))},deleteNotarization:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.delete("/o/rest/v2/notarizations/"+e.notarizationId,o).then((function(e){t(e)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getDictcollections:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={url:"o/rest/v2/dictcollections/REPORT_GROUP/dictgroups/"+e.groupCode+"/dictitems",method:"get",headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.request(o).then((function(e){t(e.data)})).catch((function(t){n(t)}))})).catch((function(){}))}))},getLevels:function(t,e){t.commit;var a=t.state;return new Promise((function(t,e){store.dispatch("loadInitResource").then((function(n){var i={url:"/o/rest/v2/serviceinfos/statistics/levels",method:"get",headers:{groupId:a.initData.groupId}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.request(i).then((function(e){var a=e.data;if(a.data){var n=a.data.filter((function(t){return"2"!==String(t.level)}));for(var i in n)n[i]["levelName"]="Mức độ "+n[i].level;t(n)}else t([])})).catch((function(t){e(t)}))})).catch((function(){}))}))},getVtPayStatus:function(t,e){t.commit;var a=t.state;return new Promise((function(t,n){store.dispatch("loadInitResource").then((function(i){var o={url:"/o/pgi/vtp/search",method:"get",headers:{groupId:a.initData.groupId},params:{billcode:e.billcode,order_id:e.order_id}};axios__WEBPACK_IMPORTED_MODULE_3___default.a.request(o).then((function(e){t(e)})).catch((function(t){n(t)}))})).catch((function(){}))}))}},mutations:{setLoading:function(t,e){t.loading=e},setLoadingTable:function(t,e){t.loadingTable=e},setLoadingGov:function(t,e){t.loadingGov=e},setValidFileUpload:function(t,e){t.validFileUpload=e},setError:function(t,e){t.error=e},setVisibleDoAction:function(t,e){t.visibleDoAction=e},clearError:function(t){t.error=null},setIndex:function(t,e){t.index=e},setInitData:function(t,e){t.initData=e},setMenuConfigToDo:function(t,e){t.trangThaiHoSoList=e},setDataPhanCong:function(t,e){t.data_phancong=e},setLoadingDynamicBtn:function(t,e){t.loadingDynamicBtn=e},setListThuTucHanhChinh:function(t,e){t.listThuTucHanhChinh=e},setDossierTemplateName:function(t,e){t.dossierTemplateName=e},setIsDetail:function(t,e){t.isDetail=e},setLePhi:function(t,e){t.lePhi.fee=e.paymentFee,t.lePhi.feeNote=e.paymentFeeNote},setThanhPhanHoso:function(t,e){t.thanhPhanHoSo=e},setThanhPhanHosoTemplates:function(t,e){t.thanhPhanHoSo.dossierTemplates=e},setDataCreateFile:function(t,e){t.dataCreateFile=e},setCheckInput:function(t,e){t.checkInput=e},setUserNextAction:function(t,e){t.usersNextAction=e||[]},setStepOverdueNextAction:function(t,e){t.stepOverdueNextAction=e},setThongTinChuHoSo:function(t,e){var a="1";"business"!==e.applicantIdType&&"2"!==e.userType||(a="2");var n={applicantIdNo:e.applicantIdNo,applicantName:e.applicantName,address:e.address,cityCode:e.cityCode,districtCode:e.districtCode,wardCode:e.wardCode,contactEmail:e.contactEmail,contactTelNo:e.contactTelNo,userType:a};t.thongTinChuHoSo=n},setThongTinChuHoSoBindChuyenPhat:function(t,e){t.thongTinChuHoSoBindChuyenPhat={cityCode:e.cityCode,districtCode:e.districtCode,wardCode:e.wardCode,address:e.address,contactTelNo:e.contactTelNo}},setThongTinNguoiNopHoSo:function(t,e){t.thongTinNguoiNopHoSo=Object.assign(t.thongTinNguoiNopHoSo,e)},setDichVuChuyenPhatKetQua:function(t,e){var a={viaPostal:e.viaPostal,postalServiceCode:e.postalServiceCode?e.postalServiceCode:"",postalAddress:e.postalAddress?e.postalAddress:"",postalCityCode:e.postalCityCode?e.postalCityCode:"",postalDistrictCode:e.postalDistrictCode?e.postalDistrictCode:"",postalWardCode:e.postalWardCode?e.postalWardCode:"",postalTelNo:e.postalTelNo?e.postalTelNo:""};t.dichVuChuyenPhatKetQua=a},setDichVuChuyenPhatHoSo:function(t,e){var a={vnpostalStatus:e.vnpostalStatus,postalServiceCode:e.postalServiceCode?e.postalServiceCode:"",postalAddress:e.postalAddress?e.postalAddress:"",postalCityCode:e.postalCityCode?e.postalCityCode:"",postalCityName:e.postalCityName?e.postalCityName:"",postalDistrictCode:e.postalDistrictCode?e.postalDistrictCode:"",postalDistrictName:e.postalDistrictName?e.postalDistrictName:"",postalWardCode:e.postalWardCode?e.postalWardCode:"",postalWardName:e.postalWardName?e.postalWardName:"",postalTelNo:e.postalTelNo?e.postalTelNo:""};t.dichVuChuyenPhatHoSo=a},setViaPostal:function(t,e){t.viaPostal=e},setServiceConfigObj:function(t,e){t.serviceConfigObj=e},setThongTinChungHoSo:function(t,e){var a;if(1===e.processUnit&&e.processBlock>8){var n,i=Math.floor(e.processBlock/8)+" ngày";n=e.processBlock%8!==0?8*(e.processBlock/8-Math.floor(e.processBlock/8))+" giờ":"",a="".concat(i," ").concat(n)}else 0===e.processUnit?a=e.processBlock+" ngày":1===e.processUnit&&e.processBlock<=8&&(a=e.processBlock+" giờ");var o={dossierTemplateNo:e.dossierTemplateNo,dossierTemplateName:e.dossierTemplateName,serviceName:e.serviceName,serviceConfig:e.serviceConfig,serviceOption:e.dossierTemplateNo,receiveDate:new Date(e.receiveDate),dueDate:new Date(e.dueDate).toString(),durationDate:a,dossierId:e.dossierId,dossierIdCTN:e.dossierIdCTN,dossierStatus:e.dossierStatus,dossierNo:e.dossierNo,govAgencyName:e.govAgencyName,dossierStatusText:e.dossierStatusText,submitDate:e.submitDate};t.thongTinChungHoSo=o},setThongTinChungHoSoDueDate:function(t,e){t.thongTinChungHoSo.dueDate=e},setThongTinChungHoSoDurationDate:function(t,e){t.thongTinChungHoSo.durationDate=e},setThongTinChungHoSoReceiveDate:function(t,e){t.thongTinChungHoSo.receiveDate=e},setserviceConfigItems:function(t,e){t.serviceConfigItems=e},setServiceOptionItems:function(t,e){t.serviceOptionItems=e},setServiceOptionThongTinChungHoSo:function(t,e){t.thongTinChungHoSo.serviceOption=e},setCitys:function(t,e){t.citys=e},dossierSelected:function(t,e){t.dossierSelected=e},actionActive:function(t,e){t.actionActive=e},setResultServices:function(t,e){t.resultServices=e},setDossierTemplates:function(t,e){t.dossierTemplates=e},setDossier:function(t,e){t.dossier=e},setDanhSachHoSo:function(t,e){t.danhSachHoSo=e},setCityVal:function(t,e){t.cityVal=e},setDistrictVal:function(t,e){t.districtVal=e},setWardVal:function(t,e){t.wardVal=e},setDossierFiles:function(t,e){t.dossierFiles=e},setSameUser:function(t,e){t.thongTinNguoiNopHoSo.sameUser=e},setSameUser2:function(t,e){t.sameUser2=e},setPrintPH:function(t,e){t.printPH=e},setlistHistoryProcessingItems:function(t,e){t.listHistoryProcessingItems=e},setUsersComment:function(t,e){t.usersComment=e},setCommentItems:function(t,e){t.commentItems=e},setKysoSuccess:function(t,e){t.kysoSuccess=e},setActiveGetCounter:function(t,e){t.activeGetCounter=e},setActiveLoadingDataHoSo:function(t,e){t.activeLoadingDataHoSo=e},setDataCreateDossier:function(t,e){t.dataCreateDossier=e},setPaymentProfile:function(t,e){t.paymentProfile=e},setPaymentFileName:function(t,e){t.paymentFileName=e},setApplicantBussinessExit:function(t,e){t.applicantBussinessExit=e},setApplicantNote:function(t,e){t.applicantNote=e},setApplicantId:function(t,e){t.applicantId=e},setForGroupDossier:function(t,e){t.forGroupDossier=e},setSelectDossierGroup:function(t,e){t.dossierIntoGroup=e},setFilesAdd:function(t,e){t.filesAdd=e},setActiveAddFileGroup:function(t,e){t.activeAddFileGroup=e},setUserLogin:function(t,e){t.userLogin=e},setDossierTemplateLienThong:function(t,e){t.dossierTemplateLienThong=e},setActivePrintBienNhan:function(t,e){t.activePrintBienNhan=e},setCreateFileSigned:function(t,e){t.createFileSigned=e},setAdvSearchShow:function(t,e){t.advSearchShow=e},setIsMobile:function(t,e){t.isMobile=e}},getters:{loading:function(t){return t.loading},loadingTable:function(t){return t.loadingTable},getVisibleDoAction:function(t){return t.visibleDoAction},loadingGov:function(t){return t.loadingGov},error:function(t){return t.error},index:function(t){return t.index},dossierSelected:function(t){return t.dossierSelected},actionActive:function(t){return t.actionActive},loadingMenuConfigToDo:function(t){return new Promise((function(t,e){store.dispatch("loadMenuConfigToDo").then((function(e){t(e)})).catch((function(){}))}))},loadingInitData:function(t){return t.initData},loadingDynamicBtn:function(t){return t.loadingDynamicBtn},loadingListThuTucHanhChinh:function(t){store.dispatch("loadListThuTucHanhChinh")},lePhi:function(t){return t.lePhi},isDetail:function(t){return t.isDetail},dossierTemplateName:function(t){return t.dossierTemplateName},thongTinChungHoSo:function(t,e){return t.thongTinChungHoSo},thongTinChuHoSo:function(t){return t.thongTinChuHoSo},thongTinChuHoSoBindChuyenPhat:function(t){return t.thongTinChuHoSoBindChuyenPhat},kysoSuccess:function(t){return t.kysoSuccess},activeGetCounter:function(t){return t.activeGetCounter},activeLoadingDataHoSo:function(t){return t.activeLoadingDataHoSo},thanhPhanHoSo:function(t){return t.thanhPhanHoSo},thongTinNguoiNopHoSo:function(t){return t.thongTinNguoiNopHoSo},dichVuChuyenPhatKetQua:function(t){return t.dichVuChuyenPhatKetQua},dichVuChuyenPhatHoSo:function(t){return t.dichVuChuyenPhatHoSo},viaPostal:function(t){return t.viaPostal},serviceOptionItems:function(t){return t.serviceOptionItems},getDictItems:function(t){return function(e){return"ADMINISTRATIVE_REGION"===e.collectionCode&&0===e.level?null==t.citys?store.dispatch("loadDictItems",e):new Promise((function(e,a){e({total:t.citys.length,data:t.citys})})):store.dispatch("loadDictItems",e)}},getDataCreateFile:function(t){return t.dataCreateFile},getCheckInput:function(t){return t.checkInput},getUsersNextAction:function(t){return t.usersNextAction},getStepOverdueNextAction:function(t){return t.stepOverdueNextAction},resultServices:function(t){return t.resultServices},dossierTemplates:function(t){return t.dossierTemplates},dataDetailDossier:function(t){return t.dossier},dossier:function(t){return t.dossier},getCityVal:function(t){return t.cityVal},getDistrictVal:function(t){return t.districtVal},getWardVal:function(t){return t.wardVal},dossierFiles:function(t){return t.dossierFiles},sameUser2:function(t){return t.sameUser2},getVnpostCodeItems:function(t){return t.vnpostCodeItems},listHistoryProcessingItems:function(t){return t.listHistoryProcessingItems},subStatusNew:function(t){return t.subStatusNew},usersComment:function(t){return t.usersComment},commentItems:function(t){return t.commentItems},dataPhanCong:function(t){return t.data_phancong},getDataCreateDossier:function(t){return t.dataCreateDossier},getPaymentProfile:function(t){return t.paymentProfile},getPaymentFileName:function(t){return t.paymentFileName},getUser:function(t){return t.user},getApplicantIdNo:function(t){return t.applicantId},getApplicantNote:function(t){return t.applicantNote},getApplicantBussinessExit:function(t){return t.applicantBussinessExit},getForGroupDossier:function(t){return t.forGroupDossier},getDossierIntoGroup:function(t){return t.dossierIntoGroup},getFilesAdd:function(t){return t.filesAdd},activeAddFileGroup:function(t){return t.activeAddFileGroup},getMenuConfigsTodo:function(t){return t.trangThaiHoSoList},getUserLogin:function(t){return t.userLogin},getDossierTemplateLienThong:function(t){return t.dossierTemplateLienThong},getActivePrintBienNhan:function(t){return t.activePrintBienNhan},getCreateFileSigned:function(t){return t.createFileSigned},advSearchShow:function(t){return t.advSearchShow},getIsMobile:function(t){return t.isMobile}}})},"56d7":function(t,e,a){"use strict";a.r(e);var n=a("a026"),i=a("bb71");a("74ef");n["a"].use(i["a"],{theme:{primary:"#001f4d",secondary:"#424242",accent:"#001f4d",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"},customProperties:!0,iconfont:"md"});var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view")],1)},r=[],s={data:function(){return{}}},c=s,d=a("2877"),u=a("6544"),p=a.n(u),_=a("7496"),l=Object(d["a"])(c,o,r,!1,null,null,null),f=l.exports;p()(l,{VApp:_["a"]});var h=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",[a("div",{staticClass:"row-header"},[a("div",{staticClass:"background-triangle-big"},[a("span",[t._v("THÔNG TIN THANH TOÁN")])]),a("div",{staticClass:"layout row wrap header_tools row-blue"},[a("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[a("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[t._v("\n            Quay lại  \n            "),a("v-icon",{attrs:{size:"16"}},[t._v("undo")])],1)],1)])]),a("div",[a("div",{staticClass:"mx-2 my-3"},[t.statusDeal?a("v-alert",{attrs:{outline:"",value:!0,type:"success"}},[t._v("\n          Giao dịch thanh toán thành công\n        ")]):a("v-alert",{attrs:{outline:"",value:!0,type:"error"}},[t._v("\n          Giao dịch thực hiện thất bại. "+t._s(t.keypayStatusText)+"\n        ")])],1),a("v-card",{staticClass:"mx-2"},[a("v-card-text",{staticClass:"px-0 py-0"},[a("div",{staticClass:"table-bordered",staticStyle:{"border-top":"1px solid #dedede"}},[a("div",{staticClass:"table__overflow"},[a("table",{staticClass:"datatable table"},[a("tbody",[a("tr",[a("td",{attrs:{width:"200"}},[a("span",{staticClass:"text-bold"},[t._v("Tên hồ sơ")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.serviceName))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Mã hồ sơ")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.dossierNo))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Cơ quan thực hiện")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.govAgencyName))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Tên phí, lệ phí")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.paymentFee))])])]),a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Tổng tiền")])]),a("td",[a("span",[t._v(t._s(t.currency(t.dossierDetail.paymentAmount))+" VNĐ")])])]),t.statusDeal?a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Mã giao dịch trực tuyến")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.transId))])])]):t._e(),t.statusDeal?a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Mã đơn hàng")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.goodCode))])])]):t._e(),t.statusDeal?a("tr",[a("td",[a("span",{staticClass:"text-bold"},[t._v("Cổng thanh toán")])]),a("td",[a("span",[t._v(t._s(t.dossierDetail.paymentPortal))])])]):t._e()])])])])])],1)],1)])],1)},g=[],D={props:[],components:{},data:function(){return{loading:!0,loadingAction:!1,statusDeal:!1,keypayStatusText:"",dossierDetail:{serviceName:"",dossierNo:"",govAgencyName:"",paymentFee:"",paymentAmount:"",transId:"",goodCode:"",paymentPortal:""},keypayStatusCode:{"00":"Thành công","01":"Đại lý không tồn tại trong hệ thống","02":"Chuỗi mã hóa không hợp lệ","03":"Mã giao dịch đại lý không hợp lệ","04":"Không tìm thấy giao dịch trong hệ thống","05":"Mã dịch vụ không hợp lệ","06":"Lỗi xác nhận giao dịch: giao dịch đã được xác nhận (thành công/ không thành công trước đó và không thể xác nhận lại)","07":"Mã quốc gia không hợp lệ","08":"Không nhận được thông điệp trả về từ Ngân Hàng","09":"Mô tả đơn hàng không hợp lệ",10:"Mã đơn hàng không hợp lệ",11:"Số tiền không hợp lệ",12:"Phí vận chuyển không hợp lệ",13:"Thuế không hợp lệ",14:"Đại lý chưa được cấu hình phí",15:"Sai mã Ngân hàng",16:"Số tiền thanh toán của Đại lý không nằm trong khoảng cho phép",17:"Tài khoản không đủ tiền",18:"Khách hàng đã Hủy giao dịch",19:"Thời gian thanh toán không hợp lệ",20:"Kiểu nhận mã OTP không hợp lệ",21:"Mã OTP sai",25:"Nhập sai thông tin chủ thẻ lần 1",26:"Nhập sai thông tin chủ thẻ lần 2",27:"Nhập sai thông tin chủ thẻ lần 3",30:"Phiên bản không hợp lệ",31:"Mã lệnh không hợp lệ",32:"Loại tiền tệ không hợp lệ",33:"Ngôn ngữ không hợp lệ",34:"Thông tin thêm (desc 1) không hợp lệ",35:"Thông tin thêm (desc 2) không hợp lệ",36:"Thông tin thêm (desc 3) không hợp lệ",37:"Thông tin thêm (desc 4) không hợp lệ",38:"Thông tin thêm (desc 5) không hợp lệ",39:"Chuỗi trả về - Return URL không hợp lệ",40:"Loại thẻ không hợp lệ",41:"Thẻ nghi vấn (thẻ đánh mất, hot card)",54:"Thẻ hết hạn",57:"Chưa đăng ký dịch vụ thanh toán trực tuyến",61:"Quá hạn mức giao dịch trong ngày",62:"Thẻ bị khóa",65:"Quá hạn mức 1 lần giao dịch",97:"Ngân hàng chưa sẵn sàng",98:"Giao dịch không",99:"Lỗi hệ thống"}}},computed:{},created:function(){var t=this;t.$nextTick((function(){var t=this,e=t.$router.history.current.query,a=e.hasOwnProperty("response_code")?e.response_code:"",n=e.hasOwnProperty("dossierId")?e.dossierId:"",i=e.hasOwnProperty("referenceUid")?e.referenceUid:"",o=e.hasOwnProperty("actionCode")?e.actionCode:"",r=e.hasOwnProperty("secretCode")?e.secretCode:"";if(n){"00"===a?t.statusDeal=!0:(t.statusDeal=!1,t.keypayStatusText=t.keypayStatusCode["responseCode"]?t.keypayStatusCode["responseCode"]:"");var s={referenceUid:i,secretCode:r};t.$store.dispatch("getDetailDossier",s).then((function(a){t.dossierDetail["serviceName"]=a.serviceName,t.dossierDetail["dossierNo"]=a.dossierNo,t.dossierDetail["govAgencyName"]=a.govAgencyName,t.dossierDetail["transId"]=e.transId,t.dossierDetail["goodCode"]=e.goodCode,t.dossierDetail["paymentPortal"]=e.paymentPortal,t.dossierDetail["paymentAmount"]=e.net_cost;var n={dossierId:a.dossierId,referenceUid:i||a.referenceUid},r={dossierId:i||a.referenceUid};!0===t.statusDeal?t.$store.dispatch("putPayments",n).then((function(e){if(t.$store.dispatch("loadDossierPayments",r).then((function(e){t.dossierDetail["paymentFee"]=t.getEPaymentProfile(e.epaymentProfile).paymentFee})).catch((function(t){})),o){var n={dossierId:i||a.referenceUid,actionCode:o};t.$store.dispatch("processDossierRouter",n).then((function(t){})).catch((function(){}))}})).catch((function(t){})):t.$store.dispatch("loadDossierPayments",r).then((function(e){t.dossierDetail["paymentFee"]=t.getEPaymentProfile(e.epaymentProfile).paymentFee})).catch((function(t){}))}))}}))},watch:{},methods:{currency:function(t){return t&&t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."):0},goBack:function(){var t=window.themeDisplay.getLayoutRelativeURL().substring(0,window.themeDisplay.getLayoutRelativeURL().lastIndexOf("/")),e=t+"/dich-vu-cong#/";window.open(e,"_self")},getEPaymentProfile:function(t){if(!t)return"";try{return JSON.parse(t),JSON.parse(t)}catch(e){return""}}}},v=D,P=a("0798"),I=a("8336"),E=a("b0af"),C=a("99d9"),T=a("132d"),O=Object(d["a"])(v,m,g,!1,null,null,null),y=O.exports;p()(O,{VAlert:P["a"],VBtn:I["a"],VCard:E["a"],VCardText:C["a"],VIcon:T["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"","mt-5":""}})],1)],1)},M=[],w={},R=w,N=a("a523"),L=a("0e8f"),U=a("a722"),S=Object(d["a"])(R,A,M,!1,null,null,null),x=S.exports;p()(S,{VContainer:N["a"],VFlex:L["a"],VLayout:U["a"]});var B=[{path:"/",name:"ThanhToanThanhCong",component:y,props:!0},{path:"*",name:"NotFound",component:x}];n["a"].use(h["a"]);var b=new h["a"]({routes:B}),W=b,K=a("4360"),F=a("bc3a"),k=a.n(F);k.a.defaults.headers.common["Token"]=void 0!==window.Liferay?window.Liferay.authToken:"",n["a"].config.productionTip=!1,n["a"].mixin({methods:{getOriginality:function(){return 3}}}),new n["a"]({router:W,store:K["a"],beforeCreate:function(){var t=this;t.$store.dispatch("loadInitResource")},render:function(t){return t(f)}}).$mount("#app")},"74ef":function(t,e,a){},bbd0:function(t){t.exports=JSON.parse('{"initData":{"menuConfigToDo":"/o/rest/v2_1/menuconfigs/todo","counterMenuStep":"/o/rest/v2/statistics/dossiers/todo","getListThuTucHanhChinh":"/o/rest/v2/onegate/serviceconfigs/processes","serviceInfoApi":"/o/rest/v2/serviceinfos","regionApi":"/o/rest/v2/dictcollections","postDossierApi":"/o/rest/v2/dossiers","dossierTemplatesApi":"/o/rest/v2/dossiertemplates","applicantApi":"/o/rest/v2/applicants","dossierlogsApi":"/o/rest/v2/dossierlogs","dossierApi":"/o/rest/v2/dossiers","serviceProcessesApi":"/o/rest/v2/serviceprocesses","serviceConfigApi":"/o/rest/v2/serviceconfigs","serviceConfigByGovApi":"/o/rest/v2/serviceconfigs/govagencies","getNextAction":"/o/rest/v2/dossiers","documentApi":"/o/rest/v2_1/dossiers","stepConfigApi":"/o/rest/v2_1/stepconfigs","getServiceConfigs":"/o/rest/v2/serviceconfigs","commentApi":"/o/rest/v2/comments"},"renderURLInit":"?p_p_id=OneGate&p_p_lifecycle=2&p_p_state=exclusive&p_p_mode=view&p_p_resource_id=renderURLInit","dossierTemplates":[],"advSearchTools":[{"index":0,"value":"adv_0","text":"Ngày, tháng, năm","type":"select","dataSource":"data","spec":"year_month_day","display":false,"disabled":false},{"index":1,"value":"adv_1","text":"Hồ sơ theo top","type":"select","dataSource":"data","spec":"top","display":false,"disabled":false},{"index":2,"value":"adv_2","text":"Trạng thái hồ sơ","type":"select","dataSource":"getStatusLists","spec":"status","display":false,"disabled":false},{"index":3,"value":"adv_3","text":"Trạng thái con","type":"select","dataSource":"getSubstatusLists","spec":"substatus","display":false,"disabled":false},{"index":4,"value":"adv_4","text":"Đơn vị","type":"select","dataSource":"getAgencyLists","spec":"agency","display":false,"disabled":false},{"index":5,"value":"adv_5","text":"Thủ tục","type":"select","dataSource":"getServiceLists","spec":"service","display":false,"disabled":false},{"index":6,"value":"adv_6","text":"Lĩnh vực","type":"select","dataSource":"getDomainLists","spec":"domain","display":false,"disabled":false},{"index":7,"value":"adv_7","text":"Mã sổ theo dõi","type":"text","spec":"register","display":false,"disabled":false}]}')}});
//# sourceMappingURL=app.js.map